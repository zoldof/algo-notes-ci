◆課題一覧
・課題：パス指定におけるファイルエイリアス作成［gulp.task('copy-css', …)］の試用

・課題：ビルド時間の高速化
・・結果1：tarでの圧縮なしでアーティファクトのみでの運用も可能だが、転送速度や容量の観点から見ると変わらない？
・・結果2：どちらも使わない方法を試してみたが、リポジトリをまたいでプッシュする方法が分からず断念

・課題：mdを直接URLから読み込んで即時プレビューできないか？
・・結果：機能自体は実装できそうだったが、ビルド不要にはなるもののコミットから反映まで時間がかかる
・・対策：コードレビュアーを別で用意しておくのはありだが、そうすると設計意図に反するのでkatexだけ別で即時プレビューすれば良い

・課題：無駄の発生
・・Static側：_config.ymlでkramdown設定している
・・・解決：ymlのpath設定
・・Jekyll側：ビルド時にdocs内にあるhtmlやmain.jsも含めている

◆解決済み
・課題：パス構造とkramdown脚注の干渉
・・対策1：baseパスは使用せずにcssとjsを絶対パスで読み込む形とする
・・対策2：sitemapをconfig.ymlで設定して読み込む形とする
・・経緯：_layouts/default.htmlを使ったJekyllビルドでは相対パスがずれてしまう
・・詳細：htmlでbaseパスで一括設定すればentry.jsを使い回せるが、そうすると脚注の参照先まで変更されてしまう
・・・相対パスを設定したものの読み込めず../../
・・・default生成物から見ようとすると「ファイル無し」の判断？
・・解決：baseurl

◆課題と解決
・課題1：ブランチによるテストとビルドの使い分け？
・・解決：Pages的には逐次複製的な位置付けでデフォルトのbuild & deployであれば指定はできるが、マージ時はディレクトリツリーが同一となっている必要がある
・試行錯誤履歴：［test］test.html ⇔ ［main］
・・こちらはパス構造ではないので気を付ける
・・意図はそれぞれ［テスト，ビルド用］
・・テスト表示だとフロントマターは残存する
・・デフォルトビルド後は、一時的にテスト表示ができなくなる場合がある
・・おそらく使用したいファイルがビルドによって扱えなくなる
・・［test］でテスト［main］でビルドの流れを把握しつつ、各ファイルの更新と開発段階に合わせて柔軟にデフォルトブランチを変更する手筈になっている

・課題2：テストページをStaticビルドするとビルドページが404になる
・・解決：404ページで該当クエリを使用したテストページを表示する仕組みに変更

・課題3：build & deployでは重いし毎回発火のためにコミットが必要
・・解決：JekyllのActionsをこの時点で導入

・課題4：表示自体には問題ないが検索評価についてテスト中にビルドページを404からのテストミラーでは不足との判断
・・検討1：JekyllのActionsだけでビルド時間かからないなら、そもそもテストページは不要？
・・結果：時間かかるのでテストページ必要でStaticとは用途も違うがpush対象のブランチ指定は外してボタン始動とした
・・検討2：txtとmdを分けて運用すればビルド時の衝突が無くなるのではないか？
・・結果：確かに分けているとJekyllビルドしてもテストページ側（txt）は表示されるようになったが、逆のStaticビルド時はどうにもならずStaticビルドでビルドページ側（md）を反映するのは無理があると判明
↑mdmd運用でテストページも表示するのは無理で、理由としてはJekyllビルド時にmdがhtmlの実体に変換され不可視になり参照できなくなるため

◆CI/CD：別リポジトリに成果物を出す仕組みの導入へ向けて修正開始
・リポジトリ名の変更
・txt → Static → md作成 → Jekyll → html成果物を別リポジトリへ作成 → ［テストページ，公開版］の同時公開
・Staticビルドする限りはクエリ設定がどうであれJekyllビルドが成果物認定できない状態のため、どちらにしても分化が必要だがビルドという概念とクエリはブラウザが持っているのに、ビルド側で保管できるとの勘違い
・・あと呼び出しも可能だけど、ここでは意味がない

◆別リポ成果物出力の修正開始に向けてコード簡略化をしたい
・課題1：markedとkramdownをどちらかに統一できないか？
・・解決：それぞれビルド前提が違うため無理で、今回の設計意図からするとテストは速くしたいし、成果物も素早く表示してほしいからコードを分ける必要がある
・課題1：index.htmlを仮想でdefault.htmlから生成してクエリ適用すればいいのでは？
・・解決：そもそもの課題設定が間違っていて本来の「テストページを使いたい」という意義を失う

・課題2：コードがほぼ同じなのでdefault.htmlにindex.html（テストページ）の内容を流用できるか？
・・検討済1：ビルド前提であれば難しい
・・検討済2：サーバー依存であれば可能だがPagesでは基本的に使えない
・・検討中3fetchでhtmlを読み込む形はSEOに影響するが可能ではある？
・・検討中4ツール前提であれば可能？Pythonで？

・課題3：パス構造を初期設定して関数でまとめておく？
・・解決：これはhtml上でbaseを設定すれば可能でscriptで設定すればjekyllビルド時のjsファイル内のパス指定でsub/dir/を制限することも可能。base設定は有用でjs側でimportする場合にbaseなしで「ルートのファイルだ」との認識で「"main.js"」のように指定してしまうとjs側では「モジュールですか？」と誤認してしまうから。さらに言うと、base設定しても「"main.js"」だけだとimportさんは「やはりモジュールですよね？」と認識してしまうので省略せずに「"./main.js"だよ。リポ直下のファイルですよ！」と伝えると「あぁぁ、なるほど」と分かってくれる

◆staticのビルド速度向上
・軽量ランナー：❌
・並列実行：❌
・セルフホスト：❌
・必要なファイルのみアップロード：❌
・キャッシュの設定：❌

・開発目標設定
・・ビルド成果物を別リポジトリへ出力することによってテストページとの分離に成功
・・・同一リポジトリ内でもファイルを分けたら可能ではあったかもだが、分けてしまうと本来のテストの意味がなくなる
・・style.cssを圧縮していればJekyllのassets読み込まない設定？
・・・configのexcludeで対応
