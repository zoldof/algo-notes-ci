<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="robots" content="noindex">
  <title>最大公約数と最小公倍数</title>
  <!-- Include -->
  <!-- KaTeX -->
<link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
<script defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
<script defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

  <!-- General -->
  <base href="/algo-notes-ci/">
  <link rel="icon" href="favicon.png">
  <link rel="apple-touch-icon" href="favicon.png">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="content">
    <!-- Liquid -->
    <h1 id="はじめに">はじめに</h1>
<p>この記事は以下の目的で作りました。</p>
<ul>
  <li>算数の学び直し記事を修正していく中で、特に分かりにくい部分があったので別でまとめる
    <ul>
      <li><a href="https://zenn.dev/algorithm_math/articles/1631216a6976a9#ある3つの数について調べる場合">変則すだれ算の最小公倍数</a>の求め方を解説</li>
    </ul>
  </li>
</ul>

<h1 id="まず知っておきたい最大公約数を求めるとは">まず知っておきたい：最大公約数を求めるとは？</h1>
<ul>
  <li>最大公約数：2つ以上の整数に共通する約数の中で最大値</li>
</ul>

<p>ある2つの数の最大公約数を求めるには<br />
2つの数を横と縦が1×1のブロックの集まりであると見立てる</p>

<table>
  <tbody>
    <tr>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>例えば、ある数が15と3なら$15×3$のブロックとする</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>ブロックの横と縦の大きさを維持したまま小さいブロックを探す<br />
縦を1とした場合、横も同じだけ小さくする<br />
3を1にするのだから$\frac 1 3$なので15は5である<br />
すなわち$15×3$のブロックは$5×1$のブロックを横に3個と縦に3個並べたものである<br />
＊横を1とした場合、横$15×\frac 1 {15} =1$なので縦$3×\frac 1 {15} =\frac 1 5$、$1×\frac 1 5$のブロックになるが、縦が分数になるので分母倍して$5×1$のブロックにする</p>

<table>
  <tbody>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>大小のブロックで「縦（横）を1としたとき横（縦）も同じだけ小さくする」ときに、どれだけ小さくしたか？<br />
逆に言えば、横か縦について、大は小の何倍になっているか？<br />
それが<strong>最大公約数</strong>で、この場合なら3である</p>
</blockquote>

<h1 id="つぎに大事な最小公倍数を求めるとは">つぎに大事な：最小公倍数を求めるとは？</h1>
<ul>
  <li>最小公倍数：2つ以上の整数に共通する倍数の中で最小値</li>
</ul>

<blockquote>
  <p>最大公約数を求めるときに使ったブロックを正方形に並べる<br />
この正方形の1辺の大きさが最小公倍数である</p>
</blockquote>

<p>$5×1$の小さいブロックが正方形になるように並べると<br />
縦に5個並べることになる<br />
正方形の1辺は5であると分かる<br />
この数が最小公倍数である</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>$15×3$の大きいブロックが正方形になるように並べると<br />
縦に5個並べることになる<br />
正方形の1辺は15であると分かる<br />
この数が最小公倍数である</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>大きいブロックは小さいブロックの集まりで、何倍の大きさかを示すのが最大公約数<br />
15と3の最大公約数は3だから、最小公倍数15は最大公約数3の倍数であると分かる</p>
</blockquote>

<h1 id="この記事の本題ある3つの数について最小公倍数を求めるには">この記事の本題：ある3つの数について最小公倍数を求めるには？</h1>
<p>3つの数の公約数以外に2つの数の公約数が生じるため変則すだれ算をつかう</p>

<p>ある3つの数の変則すだれ算<br />
$  2)\underline{\phantom{00}12 \phantom{00}15 \phantom{00}40}$<br />
$  2)\underline{\phantom{000}6 \phantom{00}15 \phantom{00}20}$<br />
$  3)\underline{\phantom{000}3 \phantom{00}15 \phantom{00}10}$<br />
$  5)\underline{\phantom{000}1 \phantom{000}5 \phantom{00}10}$<br />
$\hspace{0.9em} \phantom{000}1 \phantom{000}1 \phantom{000}2$</p>

<blockquote>
  <p>この例で、3つの数の公約数は1だけ。すなわち、<strong>3つの数の最大公約数は1</strong>。</p>
</blockquote>

<p>3つの数で変則すだれ算を使うときは、まず小さい素数から順に、「この素数でどの数が割れるか？」を調べていく。</p>

<p>このとき、3つすべてが割れる場合は、その素数は段の公約数であり、3つの数の公約数である。</p>

<p>しかし、すべての素数で3つの数が割れるとは限らない。<br />
2つの数しか割れない場合でも、変則すだれ算では「割れる数だけ」を割って処理を進めていく。</p>

<p>こうして、割れる数がなくなるまで処理を続けると、すだれは完成する。</p>

<p>ここでポイントなのは、「ある段に参加していない数（＝割れなかった数）」がいたとしても、その段で割られた他の数と一緒に最小公倍数を構成する際に、最終的にはその数の倍数も含まれるようになるということ。</p>

<p>なぜなら、下の段から「段ごとの部分最小公倍数」を計算していくと、それまでの部分最小公倍数（下の段で積み重ねてきたもの）に「段ごとの2つの数の公約数」を掛けていく構造になっている。</p>

<p>例えば上記の例で1段目を抜き出すと<br />
$  5)\underline{\phantom{000}1 \phantom{000}5 \phantom{00}10}$<br />
$\hspace{0.9em} \phantom{000}1 \phantom{000}1 \phantom{000}2$</p>

<p>この3つの数の最小公倍数は$5×1×1×2=10$である。<br />
この段だけに限定すれば（2つの数の）公約数は5である。<br />
すなわち、最大？公約数の倍数が最小公倍数である。<br />
1辺の長さが10の正方形が完成。</p>

<blockquote>
  <p>「最大公約数の何倍か」という意味ではなかったのか？という疑問</p>
</blockquote>

<p>2段目を追加すると<br />
$  3)\underline{\phantom{000}3 \phantom{00}15 \phantom{00}10}$<br />
$  5)\underline{\phantom{000}1 \phantom{000}5 \phantom{00}10}$<br />
$\hspace{0.9em} \phantom{000}1 \phantom{000}1 \phantom{000}2$</p>

<p>1段目の最小公倍数は$5×1×1×2=10$であり、すでに公約数3で割った数であるため、この3つの数の最小公倍数は$3×5×2=30$である。<br />
1段目の公約数は3、2段目の公約数は5であり、乗算すると公約数は15であるが「変則すだれ算の2つの数における公約数である」ことに注意が必要。<br />
すなわち、（2つの数の）公約数の倍数が最小公倍数である。<br />
1辺の長さが30の正方形が完成。<br />
小さい$10×10$の正方形で大きい$30×30$の正方形を作るイメージ。</p>

<blockquote>
  <p>さきほどの正方形を横に3個、縦に3個並べるという意味。<br />
この計算をすべての段が完了するまで繰り返す。</p>
</blockquote>

<p>これで、「段ごとの部分最小公倍数」に「段ごとの公約数」を掛ければ「上段の部分最小公倍数」を求めることができる。</p>

<p>この「段ごとの公約数」を掛けるという操作によって、無視された数も、その時点での部分最小公倍数の倍数になっていると確認できる。<br />
つまり、途中で一時的に無視していても、最終的にはすべての数の倍数になるように構成されている。</p>

<p>だからこのやり方で、3つの数の最小公倍数が求まる。<br />
各段での処理が「部分最小公倍数」を積み上げる形になっているため、全体の最小公倍数を構築できることが論理的に保証されている。</p>

<h1 id="さらに説明すると">さらに説明すると</h1>
<h2 id="少し複雑な説明にはなるが重要なこと">少し複雑な説明にはなるが重要なこと</h2>
<p>変則すだれ算でやっていることは<br />
各段で2つの数の公約数を見つけていく作業である</p>

<p>段が終わるまで作業を繰り返したあとで何をしているのか<br />
改めて最下段から見直してみる</p>

<p>$  2)\underline{\phantom{00}12 \phantom{00}15 \phantom{00}40}$<br />
$  2)\underline{\phantom{000}6 \phantom{00}15 \phantom{00}20}$<br />
$  3)\underline{\phantom{000}3 \phantom{00}15 \phantom{00}10}$<br />
$  5)\underline{\phantom{000}1 \phantom{000}5 \phantom{00}10}$<br />
$\hspace{0.9em} \phantom{000}1 \phantom{000}1 \phantom{000}2$</p>

<p>例の場合であれば3つの数の最大公約数は1だけ<br />
それとは別に、段別に2つの数の公約数と最小公倍数を設定していくと仮定すると<br />
まず最下段（見た目上の最下段は最後の除数なので飛ばす）の5と10の2公約数が5で最小公倍数が10である<br />
5と10以外に3つ目の数として1が含まれるが、あらゆる倍数に対応できるので最小公倍数は変わらず10である</p>

<h2 id="2段目追加で難しくなるが順を追って説明する">2段目追加で難しくなるが順を追って説明する</h2>

<p>2段目では3と15の2公約数が3で最小公倍数が15である<br />
ここまでの手順は最下段と同じ<br />
3と15以外に3つ目の数として10が含まれるが、これは最下段の最小公倍数と紐付いている<br />
そのため、実際には再帰処理が行われている<br />
ある段の「2つの数の最小公倍数と、その下段以降の最小公倍数」の最小公倍数を求める形である<br />
例の2段目であれば15と10にあたる</p>

<p>仕組み自体は正方形と同じなのだが、概念としては上記のように複雑になる</p>

<p>じゃあ、なぜ段ごとの公約数を乗算するだけで最小公倍数が求まっていくのか？<br />
結論から言えば、3つの数しかないので、必ず1つは2公約数の影響を受けるからである<br />
例えば2段目であれば2公約数は3であり、最下段の最小公倍数に乗算すれば、2段目の2つの数を網羅することに等しい<br />
逆説的になるが、なぜなら2公約数の3で除算したものを最下段で取り扱っているから</p>

<p><strong>変則すだれ算で注意すべきことは3つに集約される</strong></p>
<ol>
  <li>最大公約数や最小公倍数を求める仕組み自体は2つの数で求める場合と同じ</li>
  <li>①の用法として段別に2つの数の公約数や部分的な最小公倍数を探す形であり、全体的な最大公約数や最小公倍数とは別物であると捉える</li>
  <li>①②を踏まえたうえで、数字としては正方形的理解が可能だが、概念としては一連の流れをおさえておく必要がある</li>
</ol>

<h1 id="おわりに">おわりに</h1>
<p>最後まで読んでいただきありがとうございました。</p>

  </div>
  <script type="module" src="entry.js"></script>
</body>
</html>
